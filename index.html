<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=>, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>
<body>

    <div class="buttons">
        <button id="rock" class="btn">Rock</button>
        <button id="paper" class="btn">Paper</button>
        <button id="scissors" class="btn">Scissors</button>
    </div>

    <div id="score">
    <p id="player">Player: 0</p>
    <p id="computer">Computer: 0</p>
    </div>

    <script>
        let player = 0;
        let computer = 0;
        btns = document.getElementsByClassName("btn");
        for (var i = 0; i < btns.length; i++) {
            btns[i].addEventListener("click", function(e){ playRound(this.id)});
        }

        function getComputerChoice() {
            let rps;
            let random = Math.floor(Math.random() * 3);
            if (random === 0) {
                rps="Rock";
            } 
            else if (random === 1) {
                rps="Paper";
            }
            else {
                rps="Scissors"
            } 
            return rps;
        }
        function score(indicator) {

                if (indicator === "win") {
                    player++;
                    document.getElementById("player").innerHTML = "Player: " + player;
                }
                else if (indicator === "lose") {
                    computer++;
                    document.getElementById("computer").innerHTML = "Computer: " + computer;
                }

                if (player === 5 || computer === 5) {winner(player, computer);}
            
            }
                
        

        function playRound(select) {
            let output;
            let indicator;
            let computerSelection = getComputerChoice();
            let playerSelection = select;
            if (player === 5 || computer === 5) {
                player = 0;
                computer = 0;
                document.getElementById("computer").innerHTML = "Computer: " + computer;
                document.getElementById("player").innerHTML = "Player: " + player;
                declare.innerHTML = '';
            }

            if (playerSelection=="rock" && computerSelection=="Scissors") {
                indicator = "win";
            }
            else if (playerSelection=="paper" && computerSelection=="Rock") {
                indicator = "win";
            }
            else if (playerSelection=="scissors" && computerSelection=="Paper") {
                indicator = "win";
            }
            else if (playerSelection=="rock" && computerSelection=="Paper") {
                indicator = "lose";
            }
            else if (playerSelection=="paper" && computerSelection=="Scissors") {
                indicator = "lose";
            }
            else if (playerSelection=="scissors" && computerSelection=="Rock") {
                indicator = "lose";
            }
            else if (playerSelection=="rock" && computerSelection=="Rock") {
                indicator = "draw";
            }
            else if (playerSelection=="paper" && computerSelection=="Paper") {
                indicator = "draw";
            }
            else if (playerSelection=="scissors" && computerSelection=="Scissors") {
                indicator = "draw";
            }


            score(indicator);
        }
        


        function winner(player, computer) {
            const score = document.querySelector('#score'); 

            if (player > computer) {
                const declare = document.createElement('div');
                declare.textContent = 'Player wins!!';
                score.appendChild(declare);
            }
            else if (computer > player) {
                const declare = document.createElement('div');
                declare.textContent = 'Computer wins!!';
                score.appendChild(declare);
            }

        }

    </script>
</body>

</html>